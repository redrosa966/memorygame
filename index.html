<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>ğŸ§  æœ€å¼ºå¤§è„‘Â·ä¸“æ³¨è®°å¿†è®­ç»ƒè¥</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{font-family:"Microsoft YaHei";margin:0;background:#f8fafc}
.hidden{display:none}
.btn{background:#4f46e5;color:#fff;border:none;padding:12px 24px;
font-size:16px;border-radius:10px;cursor:pointer}
input{font-size:18px;padding:10px;width:220px;text-align:center}
#auth{min-height:100vh;display:flex;flex-direction:column;
align-items:center;justify-content:center}
#game{padding:30px;text-align:center}
.card{background:#fff;border-radius:12px;padding:10px;margin:8px;
box-shadow:0 4px 10px rgba(0,0,0,.1)}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));
gap:10px;margin-top:20px}
</style>
</head>

<body>

<!-- æˆæƒé¡µ -->
<div id="auth">
  <h2>ğŸ” å®¶é•¿æˆæƒ</h2>
  <p>è¯·è¾“å…¥æˆæƒç </p>

  <form id="authForm">
    <input id="code" placeholder="å¦‚ï¼šKID-8F29A" autocomplete="off">
    <br><br>
    <button class="btn" type="submit">è®°å¥½äº†ï¼Œè¿›å…¥</button>
  </form>

  <p id="msg" style="color:red;margin-top:10px"></p>
</div>

<!-- æ¸¸æˆé¡µ -->
<div id="game" class="hidden">
  <h1>ğŸ§  æœ€å¼ºå¤§è„‘Â·è®°å¿†æŒ‘æˆ˜</h1>
  <p>æƒ³å¥½ä¸€ä¸ªè¯è¯­ï¼Œç”µè„‘æ¥çŒœ</p>
  <div id="cards" class="grid"></div>
  <br>
  <button class="btn" id="yesBtn">æœ‰</button>
  <button class="btn" id="noBtn">æ²¡æœ‰</button>
  <p id="step"></p>
</div>

<script>
/* ========= æˆæƒé€»è¾‘ ========= */
const LICENSE = "KID-8F29A";

document.getElementById("authForm").addEventListener("submit", function(e){
  e.preventDefault(); // å…³é”®ï¼šé˜²æ­¢é¡µé¢åˆ·æ–°

  const input = document.getElementById("code").value.trim().toUpperCase();

if(input === LICENSE){
  localStorage.setItem("LICENSE_OK","1");

  // å…ˆåˆ‡é¡µé¢
  document.getElementById("auth").classList.add("hidden");
  document.getElementById("game").classList.remove("hidden");
  startGame();

  // éé˜»å¡æç¤ºï¼ˆä¸ä¼šå¡é¡µé¢ï¼‰
  document.getElementById("msg").innerText="âœ… æˆæƒæˆåŠŸï¼Œå·²è¿›å…¥æ¸¸æˆ";
}else{
  document.getElementById("msg").innerText="âŒ æˆæƒç æ— æ•ˆ";
}
});

});

/* å·²æˆæƒè®¾å¤‡è‡ªåŠ¨è¿›å…¥ */
if(localStorage.getItem("LICENSE_OK")==="1"){
  window.addEventListener("load",()=>{
    document.getElementById("auth").classList.add("hidden");
    document.getElementById("game").classList.remove("hidden");
    startGame();
  });
}

/* ========= æ¸¸æˆé€»è¾‘ ========= */
const data=[
{id:1,t:"ä¸€å¿ƒä¸€æ„"},{id:2,t:"äºŒè¯ä¸è¯´"},{id:3,t:"ä¸‰å¿ƒäºŒæ„"},
{id:4,t:"å››é¢å…«æ–¹"},{id:5,t:"äº”é¢œå…­è‰²"},{id:6,t:"å…­ç¥æ— ä¸»"},
{id:7,t:"ä¸ƒä¸Šå…«ä¸‹"},{id:8,t:"å…«ä»™è¿‡æµ·"}
];

let step=0,result=0;

function startGame(){
  step=0;result=0;
  nextStep();
}

function nextStep(){
  document.getElementById("cards").innerHTML="";
  document.getElementById("step").innerText="ç¬¬ "+(step+1)+" æ­¥";
  data.filter(d=>d.id & (1<<step)).forEach(d=>{
    const div=document.createElement("div");
    div.className="card";
    div.innerText=d.t;
    document.getElementById("cards").appendChild(div);
  });
}

document.getElementById("yesBtn").onclick=function(){
  result|=(1<<step);step++;step<3?nextStep():showResult();
};
document.getElementById("noBtn").onclick=function(){
  step++;step<3?nextStep():showResult();
};

function showResult(){
  const r=data.find(d=>d.id===result);
  document.getElementById("cards").innerHTML=
    "<h2>ğŸ¯ ä½ æƒ³çš„æ˜¯ï¼š</h2><h1>"+(r?r.t:"æ²¡çŒœä¸­")+"</h1>";
  document.getElementById("step").innerText="";
}
</script>

</body>
</html>

