<!DOCTYPE html>
<html lang="zh-CN">
<head>
<link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ˜€</text></svg>">
<meta charset="UTF-8">
<title>ğŸ§  æœ€å¼ºå¤§è„‘Â·ä¸“æ³¨è®°å¿†è®­ç»ƒè¥</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{--primary:#4f46e5;--secondary:#f59e0b;--bg:#f8fafc}
body{
  font-family:"PingFang SC","Microsoft YaHei",sans-serif;
  background:var(--bg);
  margin:0;
  display:flex;
  justify-content:center;
  min-height:100vh;
}
.hidden{display:none}
.btn{
  background:var(--primary);
  color:white;
  border:none;
  padding:12px 25px;
  font-size:1rem;
  border-radius:12px;
  cursor:pointer;
}
.btn-outline{
  background:white;
  color:var(--primary);
  border:2px solid var(--primary);
}
#game-container{
  background:white;
  width:95%;
  max-width:800px;
  padding:25px;
  margin:20px;
  border-radius:30px;
  box-shadow:0 20px 50px rgba(0,0,0,.1);
  text-align:center;
}

/* æˆæƒå±‚ */
#auth-layer{
  position:fixed;
  inset:0;
  background:#0f172a;
  display:flex;
  justify-content:center;
  align-items:center;
  z-index:9999;
}
#auth-box{
  background:white;
  padding:30px;
  border-radius:20px;
  width:90%;
  max-width:320px;
  text-align:center;
}
#auth-box input{
  width:100%;
  padding:12px;
  font-size:16px;
  margin:15px 0;
  border-radius:10px;
  border:1px solid #ccc;
}

.phrase-grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(130px,1fr));
  gap:10px;
  margin:20px 0;
  max-height:350px;
  overflow-y:auto;
  padding:15px;
  background:#f1f5f9;
  border-radius:20px
}
.phrase-item{
  background:white;
  padding:8px;
  border-radius:10px;
  border:1px solid #e2e8f0;
}
.en{font-weight:bold;color:var(--primary)}
.zh{font-size:.8rem;color:#64748b}
</style>
</head>

<body>

<!-- ğŸ” æˆæƒå±‚ -->
<div id="auth-layer">
  <div id="auth-box">
    <h2>ğŸ” å®¶é•¿æˆæƒ</h2>
    <input id="licenseInput" placeholder="è¯·è¾“å…¥æˆæƒç ">
    <button class="btn" onclick="checkLicense()">ç¡®è®¤æˆæƒ</button>
    <div id="authMsg" style="margin-top:10px;color:red"></div>
  </div>
</div>

<div id="game-container" class="hidden">

  <!-- æ¬¢è¿é¡µ -->
  <div id="view-welcome">
    <h1>ğŸ§  æœ€å¼ºå¤§è„‘Â·ä¸“æ³¨è®°å¿†è®­ç»ƒè¥</h1>
    <p>3 åˆ†é’ŸæŒ‘æˆ˜ã€Œè¿‡ç›®ä¸å¿˜ã€</p>
    <div class="phrase-grid" id="all-phrases-list"></div>
    <button class="btn" onclick="_0xStart()">ğŸ¯ è®°å¥½äº†ï¼Œå¼€å§‹ï¼</button>
  </div>

  <!-- æ¸¸æˆé¡µ -->
  <div id="view-game" class="hidden">
    <h2 id="card-title"></h2>
    <div class="phrase-grid" id="card-phrases"></div>
    <button class="btn" onclick="_0xChoice(true)">âœ… æœ‰çš„</button>
    <button class="btn-outline btn" onclick="_0xChoice(false)">âŒ æ²¡æœ‰</button>
  </div>

  <!-- ç»“æœé¡µ -->
  <div id="view-result" class="hidden">
    <h1>ğŸ† ç»“æœ</h1>
    <div id="result-en" style="font-size:2rem"></div>
    <div id="result-zh" style="font-size:1.5rem"></div>
    <button class="btn" onclick="location.reload()">é‡æ–°å¼€å§‹</button>
  </div>

</div>

<script>
/* ===== æˆæƒé€»è¾‘ ===== */
const LICENSE="KID-8F29A";

function checkLicense(){
  const v=document.getElementById("licenseInput").value.trim();
  if(v===LICENSE){
    localStorage.setItem("LICENSE_OK","1");
    document.getElementById("auth-layer").style.display="none";
    document.getElementById("game-container").classList.remove("hidden");
  }else{
    document.getElementById("authMsg").innerText="âŒ æˆæƒç æ— æ•ˆ";
  }
}

window.onload=()=>{
  if(localStorage.getItem("LICENSE_OK")==="1"){
    document.getElementById("auth-layer").style.display="none";
    document.getElementById("game-container").classList.remove("hidden");
  }
};

/* ===== æ¸¸æˆé€»è¾‘ ===== */
const phrases=[
{id:1,english:"ä¸€å¿ƒä¸€æ„",chinese:"ä¸€å¿ƒä¸€æ„"},
{id:2,english:"äºŒè¯ä¸è¯´",chinese:"äºŒè¯ä¸è¯´"},
{id:3,english:"ä¸‰å¿ƒäºŒæ„",chinese:"ä¸‰å¿ƒäºŒæ„"},
{id:4,english:"å››é¢å…«æ–¹",chinese:"å››é¢å…«æ–¹"},
{id:5,english:"äº”é¢œå…­è‰²",chinese:"äº”é¢œå…­è‰²"},
{id:6,english:"å…­ç¥æ— ä¸»",chinese:"å…­ç¥æ— ä¸»"}
];

let step=0,answer=0;

function init(){
  const l=document.getElementById("all-phrases-list");
  phrases.forEach(p=>{
    const d=document.createElement("div");
    d.className="phrase-item";
    d.innerHTML=`<div class="en">${p.english}</div><div class="zh">${p.chinese}</div>`;
    l.appendChild(d);
  });
}

function _0xStart(){
  document.getElementById("view-welcome").classList.add("hidden");
  document.getElementById("view-game").classList.remove("hidden");
  step=0;answer=0;
  nextCard();
}

function nextCard(){
  const m=1<<step;
  const list=phrases.filter(p=>(p.id&m)!==0);
  const box=document.getElementById("card-phrases");
  box.innerHTML="";
  list.forEach(p=>{
    const d=document.createElement("div");
    d.className="phrase-item";
    d.innerHTML=`<div class="en">${p.english}</div>`;
    box.appendChild(d);
  });
  document.getElementById("card-title").innerText=`ç¬¬ ${step+1} ç»„`;
}

function _0xChoice(y){
  if(y)answer+=1<<step;
  step++;
  if(step<3)nextCard();
  else endGame();
}

function endGame(){
  document.getElementById("view-game").classList.add("hidden");
  document.getElementById("view-result").classList.remove("hidden");
  const r=phrases.find(p=>p.id===answer);
  document.getElementById("result-en").innerText=r?r.english:"æ²¡çŒœä¸­";
  document.getElementById("result-zh").innerText=r?r.chinese:"";
}

init();
</script>

</body>
</html>

